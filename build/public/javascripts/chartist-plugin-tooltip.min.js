!function(t,e){"function"==typeof define&&define.amd?define(["chartist"],function(o){return t.returnExportsGlobal=e(o)}):"object"==typeof exports?module.exports=e(require("chartist")):t["Chartist.plugins.tooltips"]=e(Chartist)}(this,function(t){return function(t,e,o){"use strict";function n(t){a(t,"tooltip-show")||(t.className=t.className+" tooltip-show")}function i(t){var e=new RegExp("tooltip-show\\s*","gi");t.className=t.className.replace(e,"").trim()}function a(t,e){return(" "+t.getAttribute("class")+" ").indexOf(" "+e+" ")>-1}function r(t,e){do t=t.nextSibling;while(t&&!a(t,e));return t}function s(t){return t.innerText||t.textContent}var c={currency:void 0,currencyFormatCallback:void 0,tooltipOffset:{x:0,y:-20},anchorToPoint:!1,appendToBody:!1,class:void 0,pointClass:"ct-point"};o.plugins=o.plugins||{},o.plugins.tooltip=function(l){return l=o.extend({},c,l),function(c){function p(t,e,o){d.addEventListener(t,function(t){e&&!a(t.target,e)||o(t)})}function f(e){m=m||g.offsetHeight,h=h||g.offsetWidth;var o,n,i=-h/2+l.tooltipOffset.x,a=-m+l.tooltipOffset.y;if(l.appendToBody)g.style.top=e.pageY+a+"px",g.style.left=e.pageX+i+"px";else{var r=d.getBoundingClientRect(),s=e.pageX-r.left-t.pageXOffset,c=e.pageY-r.top-t.pageYOffset;!0===l.anchorToPoint&&e.target.x2&&e.target.y2&&(o=parseInt(e.target.x2.baseVal.value),n=parseInt(e.target.y2.baseVal.value)),g.style.top=(n||c)+a+"px",g.style.left=(o||s)+i+"px"}}var u=l.pointClass;c instanceof o.Bar?u="ct-bar":c instanceof o.Pie&&(u=c.options.donut?"ct-slice-donut":"ct-slice-pie");var d=c.container,g=d.querySelector(".chartist-tooltip");g||(g=e.createElement("div"),g.className=l.class?"chartist-tooltip "+l.class:"chartist-tooltip",l.appendToBody?e.body.appendChild(g):d.appendChild(g));var m=g.offsetHeight,h=g.offsetWidth;i(g),p("mouseover",u,function(t){var i=t.target,a="",p=c instanceof o.Pie?i:i.parentNode,u=p?i.parentNode.getAttribute("ct:meta")||i.parentNode.getAttribute("ct:series-name"):"",d=i.getAttribute("ct:meta")||u||"",v=!!d,y=i.getAttribute("ct:value");if(l.transformTooltipTextFnc&&"function"==typeof l.transformTooltipTextFnc&&(y=l.transformTooltipTextFnc(y)),l.tooltipFnc&&"function"==typeof l.tooltipFnc)a=l.tooltipFnc(d,y);else{if(l.metaIsHTML){var x=e.createElement("textarea");x.innerHTML=d,d=x.value}if(d='<span class="chartist-tooltip-meta">'+d+"</span>",v)a+=d+"<br>";else if(c instanceof o.Pie){var b=r(i,"ct-label");b&&(a+=s(b)+"<br>")}y&&(l.currency&&(y=void 0!=l.currencyFormatCallback?l.currencyFormatCallback(y,l):l.currency+y.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")),y='<span class="chartist-tooltip-value">'+y+"</span>",a+=y)}a&&(g.innerHTML=a,f(t),n(g),m=g.offsetHeight,h=g.offsetWidth)}),p("mouseout",u,function(){i(g)}),p("mousemove",null,function(t){!1===l.anchorToPoint&&f(t)})}}}(window,document,t),t.plugins.tooltips});